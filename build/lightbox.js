document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("netflix-lightbox"),t=document.getElementById("lightbox-content"),n=document.querySelector(".close-lightbox");if(!e||!t||!n)return;function o(){e.classList.remove("active"),document.body.classList.remove("lightbox-open")}const c=document.querySelectorAll(".netflix-card");0!==c.length&&(c.forEach((n=>{n.addEventListener("click",(o=>{o.preventDefault();const c=n.getAttribute("href");c&&fetch(c).then((e=>e.text())).then((n=>{const o=(new DOMParser).parseFromString(n,"text/html"),c=o.querySelector("h1"),r=o.querySelector(".entry-content"),i=o.querySelector(".wp-post-image"),l=c?c.innerHTML:__("Titre non disponible","netflix-like-cards"),d=r?r.innerHTML:__("Contenu non disponible","netflix-like-cards"),s=i?i.src:"";t.innerHTML=`\n                        <div class="lightbox-header" style="background-image: url('${s}');">\n                            <h1>${l}</h1>\n                        </div>\n                        <div class="lightbox-body">${d}</div>\n                    `,e.classList.add("active"),document.body.classList.add("lightbox-open")})).catch((e=>{console.error("Erreur lors du chargement du contenu pour la lightbox:",e)}))}))})),n.addEventListener("click",o),e.addEventListener("click",(t=>{t.target===e&&o()})),document.addEventListener("keydown",(t=>{"Escape"===t.key&&e.classList.contains("active")&&o()})))}));